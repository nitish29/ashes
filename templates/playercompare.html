{% extends 'index.html' %} {% block body_block %}
<div class="container">


    <div class="section">
        <div class="row">

            {% if errors %}
                        {% for i in errors %}
                                <h3>{{ i }}</h3>
                        {% endfor %}

                {% else %}

        </div>  
        <form method="get" action="/playerCompareAction">
            <div class="row">
                <p>
                    {% if request.GET.week == 'week1' %}
                  <input name="week" type="radio" id="week1" value="week1" checked/>
                    {% else %}
                  <input name="week" type="radio" id="week1" value="week1"/>
                    {% endif %}
                  <label for="week1">Week 1</label>
                </p>
                <p>
                  {% if request.GET.week == 'week2' %}
                  <input name="week" type="radio" id="week2" value="week2" checked/>
                    {% else %}
                  <input name="week" type="radio" id="week2" value="week2"/>
                    {% endif %}
                  <label for="week2">Week 2</label>
                </p>
                <p>
                  {% if request.GET.week == 'week3' %}
                  <input name="week" type="radio" id="week3" value="week3" checked/>
                    {% else %}
                  <input name="week" type="radio" id="week3" value="week3"/>
                    {% endif %}
                  <label for="week3">Week 3</label>
                </p>
            </div> 
            <div class="row">
                <h4><center>Comparison Tool</center></h4>    
            </div>
            <div class="row">
                <center><h5>Please select players for comparison</h5></center>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <select name="myPlayerSelect">
                        <option value="">Choose First Player</option>
                        {%for i in myPlayerList %}
                            {% if message and i.player_name.player_name == myPlayer.player_name.player_name %}
                                 <option value="{{i.player_name.player_name}}" selected>{{i.player_name.player_name}}</option>
                            {% else %}
                                <option value="{{i.player_name.player_name}}">{{i.player_name.player_name}}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                    <label>Player 1</label>
                </div>

                <div class="input-field col s6">
                    <select name="allPlayerSelect">
                        <option value="">Choose Second Player</option>
                        {%for i in allPlayerList %}
                            {% if message and i.player_name == otherPlayer.player_name %}
                                <option value="{{i.player_name}}" selected>{{i.player_name}}</option>
                            {% else %}
                                <option value="{{i.player_name}}">{{i.player_name}}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                    <label>Player 2</label>
                </div>
            </div>
            <div class="row">
            <center><input id="search" class="btn btn-medium green" type="submit" value="Submit" /></center>
            </div>
                  
        </form>
        {% if message %}
            <div class="row">
                <div class="col s6 offset-s3">
                  <div class="card light-green lighten-1">
                    <div class="card-content white-text">
                      <span class="card-title"><center>Comparison Results</center></span>
                            <table>
                                <thead>
                                  <tr>
                                      <th data-field="player_name">Player Name</th>
                                      <th data-field="CAA">CAA</th>
                                      <th data-field="batting_impact">Batting Impact</th>
                                  </tr>
                                </thead>

                                <tbody>
                                  <tr>
                                    <td>{{myPlayer.player_name.player_name}}</td>
                                    <td>{{myPlayer.player_name.caa}}</td>
                                    <td>{{myPlayer.player_name.last_bat_impact}}</td>
                                  </tr>
                                  <tr>
                                    <td>{{otherPlayer.player_name}}</td>
                                    <td>{{otherPlayer.caa}}</td>
                                    <td>{{otherPlayer.last_bat_impact}}</td>
                                  </tr>
                                </tbody>
                            </table>
                      <p>{{message}}</p>
                    </div>
                  </div>
                </div>
            </div>
        {% endif %}
        <div class="divider"></div>
        <div class="row">
            <h4><center>Twitter Sentiment Analysis</center></h4>    
        </div>
        <div class="divider"></div>
        <div class="row">
            <div id="pos_sentiment_div" style="width: 900px; height: 300px;"></div>
        </div>
        <div class="divider"></div>
        <div class="row">
            <div id="neutral_sentiment_div" style="width: 900px; height: 300px;"></div>
        </div>
        <div class="divider"></div>
        <div class="row">
            <div id="neg_sentiment_div" style="width: 900px; height: 300px;"></div>
        </div>

                {% endif %} <!-- This endif handles closes the else case condition - when no error-->
           
    </div>
</div>
{% endblock %}
